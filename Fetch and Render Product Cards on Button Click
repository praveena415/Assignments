<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Product Grid</title>
  <script crossorigin src="https://cdn.jsdelivr.net/npm/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.development.js"></script>
</head>
<body>
  <div id="root">this is dom heading</div>

  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const root = ReactDOM.createRoot(document.getElementById("root"));

    function ProductGrid() {
      const [data, setData] = React.useState({
        items: [],
        loading: false,
        error: null
      });

      async function fetchProducts() {
        setData({ ...data, loading: true });
        try {
          const response = await fetch("https://fakestoreapi.com/products");
          const result = await response.json();
          setData({ ...data, items: result, loading: false });
        } catch (err) {
          setData({ ...data, error: err.message, loading: false });
        }
      }

      return (
        <>
          <button
            onClick={fetchProducts}
            style={{
              padding: "15px 30px",
              borderRadius: "20px",
              margin: "30px auto",
              display: "block",
              fontSize: "16px",
              cursor: "pointer"
            }}
          >
            Load Products
          </button>

          {data.loading && <h3 style={{ textAlign: "center" }}>Loading...</h3>}
          {data.error && <h4 style={{ textAlign: "center", color: "red" }}>{data.error}</h4>}

          <div
            style={{
              width: "90%",
              margin: "auto",
              display: "grid",
              gridTemplateColumns: "repeat(auto-fill, minmax(200px, 1fr))",
              gap: "20px"
            }}
          >
            {data.items.map((item, index) => (
              <div
                key={index}
                style={{
                  padding: "10px",
                  border: "1px solid #ccc",
                  borderRadius: "8px",
                  textAlign: "center",
                  boxShadow: "0 0 8px rgba(0,0,0,0.1)"
                }}
              >
                <img src={item.image} alt="product" width="100px" height="100px" style={{ objectFit: "contain" }} />
                <h5 style={{ wordBreak: "break-word", margin: "10px 0" }}>{item.title}</h5>
                <p><b>Price: â‚¹{item.price}</b></p>
              </div>
            ))}
          </div>
        </>
      );
    }

    root.render(<ProductGrid />);
  </script>
</body>
</html>
